// src/modules/dynamic-models/localization/config/spain.config.ts
import { LocaleConfig, CountryRegulations } from '../../types/base';

export const SpainConfig: LocaleConfig = {
  country: 'ES',
  currency: 'EUR',
  language: 'es-ES',
  units: 'metric',
  dateFormat: 'DD/MM/YYYY',
  numberFormat: {
    locale: 'es-ES',
    options: {
      minimumFractionDigits: 2,
      maximumFractionDigits: 2,
      useGrouping: true
    }
  },
  taxRules: {
    incomeTax: {
      rate: 0.25,
      name: 'IRPF',
      code: 'IRPF'
    },
    vatRate: {
      rate: 0.21,
      name: 'IVA',
      code: 'IVA'
    },
    specialTaxes: [
      {
        name: 'IVA Reducido Ganadería',
        rate: 0.10,
        code: 'IVA-REDUCIDO',
        description: 'IVA reducido para productos ganaderos'
      }
    ]
  },
  regulations: {
    taxRates: [
      { rate: 0.25, name: 'IRPF', code: 'IRPF' },
      { rate: 0.21, name: 'IVA General', code: 'IVA' },
      { rate: 0.10, name: 'IVA Reducido', code: 'IVA-R' }
    ],
    requiredDocuments: [
      {
        name: 'Registro REGA',
        code: 'REGA',
        mandatory: true,
        renewalPeriod: 0,
        authority: 'Ministerio de Agricultura'
      },
      {
        name: 'Libro de Registro de Explotación',
        code: 'LIBRO-REG',
        mandatory: true,
        renewalPeriod: 365,
        authority: 'Comunidad Autónoma'
      },
      {
        name: 'Certificado SITRAN',
        code: 'SITRAN',
        mandatory: true,
        renewalPeriod: 0,
        authority: 'SITRAN'
      }
    ],
    complianceRules: [
      {
        name: 'Bienestar Animal EU',
        code: 'BIENESTAR-EU',
        field: 'welfare.compliance',
        validator: (value: any) => value === true,
        message: 'Cumplimiento obligatorio de normativa de bienestar animal'
      },
      {
        name: 'Identificación Electrónica',
        code: 'ID-ELECTRONICA',
        field: 'identification.electronic',
        validator: (value: any) => value === true,
        message: 'Identificación electrónica obligatoria'
      },
      {
        name: 'Límites Nitratos',
        code: 'NITRATOS',
        field: 'environmental.nitrogenLimit',
        validator: (value: number) => value <= 170, // kg N/hectárea/año
        message: 'No exceder 170 kg N/hectárea/año'
      }
    ],
    reportingRequirements: [
      {
        name: 'Censo Ganadero',
        code: 'CENSO-GANADERO',
        frequency: 'annual',
        authority: 'SITRAN',
        deadline: '01-31'
      },
      {
        name: 'PAC (Política Agraria Común)',
        code: 'PAC',
        frequency: 'annual',
        authority: 'FEGA',
        deadline: '05-15'
      },
      {
        name: 'Declaración IRPF',
        code: 'AEAT-IRPF',
        frequency: 'quarterly',
        authority: 'Agencia Tributaria',
        deadline: 20
      }
    ]
  }
};

// Configuración específica para ganadería en España
export const SpanishCattleConfig = {
  // Razas más comunes
  commonBreeds: ['Limousin', 'Charolais', 'Asturiana', 'Rubia Gallega', 'Avileña', 'Retinta', 'Pirenaica'],
  
  // Sistemas de producción
  productionSystems: {
    extensive: {
      name: 'Extensivo (Dehesa)',
      density: 0.3,
      common: true
    },
    semiIntensive: {
      name: 'Semi-intensivo',
      density: 1.5,
      common: true
    },
    intensive: {
      name: 'Intensivo',
      density: 3,
      common: false
    }
  },
  
  // Regiones ganaderas
  cattleRegions: [
    { name: 'Castilla y León', code: 'CYL', climate: 'continental' },
    { name: 'Extremadura', code: 'EXT', climate: 'mediterráneo' },
    { name: 'Galicia', code: 'GAL', climate: 'atlántico' },
    { name: 'Andalucía', code: 'AND', climate: 'mediterráneo' },
    { name: 'Asturias', code: 'AST', climate: 'atlántico' }
  ],
  
  // Precios de referencia (EUR/kg)
  referencePrices: {
    cattlePurchase: {
      min: 2.5,
      max: 4.0,
      average: 3.2
    },
    cattleSale: {
      min: 3.5,
      max: 5.5,
      average: 4.5
    },
    feedCostPerDay: {
      min: 2.0,
      max: 4.0,
      average: 3.0
    }
  },
  
  // Métricas típicas
  typicalMetrics: {
    mortalityRate: 1.5, // Menor debido a estándares EU
    dailyWeightGain: 0.9,
    feedConversion: 8.0,
    dressingPercentage: 62,
    pregnancyRate: 80
  }
};

export default SpainConfig;