// src/modules/dynamic-models/localization/config/colombia.config.ts
import { LocaleConfig, CountryRegulations, TaxRate } from '../../types/base';

export const ColombiaConfig: LocaleConfig = {
  country: 'CO',
  currency: 'COP',
  language: 'es-CO',
  units: 'metric',
  dateFormat: 'DD/MM/YYYY',
  numberFormat: {
    locale: 'es-CO',
    options: {
      minimumFractionDigits: 0,
      maximumFractionDigits: 0,
      useGrouping: true
    }
  },
  taxRules: {
    incomeTax: {
      rate: 0.35,
      name: 'Impuesto de Renta',
      code: 'RENTA'
    },
    vatRate: {
      rate: 0.19,
      name: 'IVA',
      code: 'IVA'
    },
    specialTaxes: [
      {
        name: 'Retención en la Fuente',
        rate: 0.025,
        code: 'RETEFUENTE',
        applicableFrom: 1000000
      },
      {
        name: 'ICA',
        rate: 0.007,
        code: 'ICA',
        description: 'Impuesto de Industria y Comercio'
      }
    ]
  },
  regulations: {
    taxRates: [
      { rate: 0.35, name: 'Impuesto de Renta', code: 'RENTA' },
      { rate: 0.19, name: 'IVA', code: 'IVA' },
      { rate: 0.025, name: 'Retención en la Fuente', code: 'RETEFUENTE' }
    ],
    requiredDocuments: [
      {
        name: 'Registro ICA',
        code: 'ICA-REG',
        mandatory: true,
        renewalPeriod: 365,
        authority: 'Instituto Colombiano Agropecuario'
      },
      {
        name: 'Certificado SINIGAN',
        code: 'SINIGAN',
        mandatory: true,
        renewalPeriod: 0,
        authority: 'FEDEGAN'
      },
      {
        name: 'Guía de Movilización',
        code: 'GUIA-MOV',
        mandatory: true,
        renewalPeriod: 30,
        authority: 'ICA'
      }
    ],
    complianceRules: [
      {
        name: 'Vacunación Aftosa',
        code: 'VAC-AFTOSA',
        field: 'vaccinations.aftosa',
        validator: (value: any) => value === true,
        message: 'La vacunación contra aftosa es obligatoria',
        frequency: 180 // días
      },
      {
        name: 'Vacunación Brucelosis',
        code: 'VAC-BRUCELOSIS',
        field: 'vaccinations.brucelosis',
        validator: (value: any) => value === true,
        message: 'La vacunación contra brucelosis es obligatoria para hembras',
        frequency: 0 // Una sola vez
      },
      {
        name: 'Límite de Densidad Animal',
        code: 'DENSIDAD-MAX',
        field: 'density',
        validator: (value: number) => value <= 4, // UGG/hectárea
        message: 'La densidad no puede exceder 4 UGG por hectárea'
      }
    ],
    reportingRequirements: [
      {
        name: 'Reporte Mensual de Inventario',
        code: 'REP-INVENTARIO',
        frequency: 'monthly',
        authority: 'FEDEGAN',
        deadline: 5 // día del mes
      },
      {
        name: 'Declaración de Renta',
        code: 'DIAN-RENTA',
        frequency: 'annual',
        authority: 'DIAN',
        deadline: '04-15' // Abril 15
      }
    ]
  }
};

// Configuración específica para ganadería en Colombia
export const ColombianCattleConfig = {
  // Razas más comunes
  commonBreeds: ['Brahman', 'Cebú', 'Angus', 'Holstein', 'Simmental', 'Senepol'],
  
  // Sistemas de producción típicos
  productionSystems: {
    extensive: {
      name: 'Extensivo',
      density: 0.5, // animales/hectárea
      common: true
    },
    semiIntensive: {
      name: 'Semi-intensivo',
      density: 2,
      common: true
    },
    intensive: {
      name: 'Intensivo',
      density: 4,
      common: false
    }
  },
  
  // Regiones ganaderas
  cattleRegions: [
    { name: 'Costa Caribe', code: 'CC', climate: 'tropical' },
    { name: 'Llanos Orientales', code: 'LO', climate: 'tropical' },
    { name: 'Magdalena Medio', code: 'MM', climate: 'tropical' },
    { name: 'Antioquia', code: 'ANT', climate: 'templado' },
    { name: 'Córdoba', code: 'COR', climate: 'tropical' }
  ],
  
  // Precios de referencia (COP/kg)
  referencePrices: {
    cattlePurchase: {
      min: 8000,
      max: 12000,
      average: 10000
    },
    cattleSale: {
      min: 10000,
      max: 15000,
      average: 12500
    },
    feedCostPerDay: {
      min: 2000,
      max: 5000,
      average: 3500
    }
  },
  
  // Métricas típicas
  typicalMetrics: {
    mortalityRate: 2.5, // %
    dailyWeightGain: 0.8, // kg/día
    feedConversion: 8.5, // kg alimento/kg ganancia
    dressingPercentage: 58, // % rendimiento en canal
    pregnancyRate: 75 // %
  }
};

export default ColombiaConfig;